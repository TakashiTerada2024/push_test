# SkipUrlControllerTest 仕様書

## 概要
SkipUrlControllerのユニットテスト仕様を定義する。

## テストケース

### 1. スキップURL生成の正常系
#### テストメソッド名
`test_認証済みユーザーが正しくスキップURLを生成できること`

#### 前提条件
- ユーザーが認証済みである
- 有効な申請種別IDが指定されている

#### テストシナリオ
1. 認証済みユーザーとしてリクエストを送信
2. 申請種別IDを指定してスキップURL生成APIを実行

#### 期待結果
- ステータスコード200が返却される
- レスポンスに以下の項目が含まれる：
  - success: true
  - ulid: 生成されたULID
  - apply_type_id: リクエストで指定した申請種別ID
  - expired_at: 有効期限

### 2. 未認証エラー
#### テストメソッド名
`test_未認証ユーザーからのリクエストでエラーが返却されること`

#### 前提条件
- ユーザーが未認証である

#### テストシナリオ
1. 未認証状態でリクエストを送信

#### 期待結果
- ステータスコード500が返却される
- エラーメッセージが含まれる

### 3. サービス例外発生時のエラーハンドリング
#### テストメソッド名
`test_サービス処理で例外が発生した場合にエラーレスポンスが返却されること`

#### 前提条件
- ユーザーが認証済みである
- サービスで例外が発生する状況が設定されている

#### テストシナリオ
1. 例外が発生する条件でリクエストを送信

#### 期待結果
- ステータスコード500が返却される
- エラーメッセージが含まれる 