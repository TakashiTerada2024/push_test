# ApplicationSkipUrlService テスト仕様書

## 概要
`App\Services\ApplicationSkipUrlService` クラスのユニットテスト仕様を定義します。

## テスト対象
- クラス: `App\Services\ApplicationSkipUrlService`
- 役割: 申出スキップURL生成サービス（アプリケーション層）

## テストケース

### 1. 申出スキップURL生成機能のテスト

#### 1.1 test申出スキップURLを正常に生成できること
- **概要**: 申出種別ID、作成者ID、有効期限を指定して申出スキップURLを正常に生成できることを確認
- **入力**:
  - 申出種別ID: 1
  - 作成者ID: 100
  - 有効期限(日数): 7
- **期待結果**:
  - 指定した情報を含むURL情報の配列が返されること
  - 配列にはulid、apply_type_id、expired_atが含まれていること

#### 1.2 test申出スキップURLをデフォルト有効期限で生成できること
- **概要**: 有効期限を省略した場合にデフォルト値(14日)で申出スキップURLが生成されることを確認
- **入力**:
  - 申出種別ID: 2
  - 作成者ID: 200
  - 有効期限: 省略（デフォルトの14日が適用されること）
- **期待結果**:
  - 指定した情報を含むURL情報の配列が返されること
  - 有効期限がデフォルト日数(14日)であること

### 2. 申出スキップURL検証機能のテスト

#### 2.1 test有効な申出スキップURLを検証できること
- **概要**: 有効なULIDを指定した場合に正しく検証できることを確認
- **入力**:
  - ULID: 有効なULID文字列
- **期待結果**:
  - 申出スキップURL情報を含む配列が返されること
  - 配列にはulid、apply_type_id、created_by、expired_atが含まれていること

#### 2.2 test無効な申出スキップURLを検証するとnullが返ること
- **概要**: 無効なULIDを指定した場合にnullが返されることを確認
- **入力**:
  - ULID: 無効なULID文字列
- **期待結果**:
  - null が返されること

### 3. 申出スキップURL使用済み化機能のテスト

#### 3.1 test申出スキップURLを使用済みにできること
- **概要**: 有効なULIDを指定した場合に使用済みにできることを確認
- **入力**:
  - ULID: 有効なULID文字列
- **期待結果**:
  - 処理が成功し、true が返されること

#### 3.2 test無効な申出スキップURLを使用済みにするとfalseが返ること
- **概要**: 無効なULIDを指定した場合に処理が失敗し、falseが返されることを確認
- **入力**:
  - ULID: 無効なULID文字列
- **期待結果**:
  - 処理が失敗し、false が返されること

## テスト方法

テストの実行は以下のコマンドで行います：

```bash
php artisan test --filter=ApplicationSkipUrlServiceTest
```

## 注意事項

- テストでは内部で使用している `Ncc01\Apply\Application\Service\ApplicationSkipUrlService` のモックを使用します
- 各テストケースで期待される挙動を独立して検証します 